<div class="dashboard-container">
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="sidebar-header">
      <h2>Parking Management</h2>
    </div>
    <div class="user-info">
      <p></p>
    </div>
    <ul class="nav-links">
      <li><a [routerLink]="['/','dashboard']" class="active">Dashboard</a></li>
      <li><a [routerLink]="['/','user-management']">User Management</a></li>
      <li><a [routerLink]="['/','parking-slot']">Parking Slot</a></li>
      <li><a [routerLink]="['/','booking-request']">Booking request</a></li>
      <li><a [routerLink]="['/','logout']">Logout</a></li>
    </ul>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Top Navbar -->
    <div class="top-navbar">
      <h1>User Management</h1>
      <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addUserModal">+ Add User</button>
    </div>

    <!-- User Table -->
    <div class="table-container">
      <h2 class="section-title">User Data Table</h2>
      <table class="booking-table">
        <thead>
          <tr>
            <th>User ID</th>
            <th>Username</th>
            <th>Email</th>
            <th>Role</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <!-- Loop through the users and display their data -->
          <tr *ngFor="let user of users">
            <td>{{ user.id }}</td>
            <td>{{ user.username }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.role }}</td>
            <td>{{ user.status }}</td>
            <td>
              <button (click)="editUser(user)" class="edit-btn" data-bs-toggle="modal"
                data-bs-target="#addUserModal">Edit</button>
              <button (click)="deleteUser(user.id)" class="delete-btn">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Add/Edit User Modal -->
    <div class="modal fade" id="addUserModal" tabindex="-1" aria-labelledby="addUserModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addUserModalLabel">{{ editMode ? 'Edit User' : 'Add User' }}</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="username" class="form-label">Username</label>
                <input type="text" class="form-control" id="username" [(ngModel)]="newUser.username" name="username"
                  placeholder="Enter Username">
              </div>
              <div class="mb-3">
                <label for="userEmail" class="form-label">Email</label>
                <input type="email" class="form-control" id="userEmail" [(ngModel)]="newUser.email" name="email"
                  placeholder="Enter Email">
              </div>
              <div class="mb-3">
                <label for="userRole" class="form-label">Role</label>
                <select class="form-select" id="userRole" [(ngModel)]="newUser.role" name="role">
                  <option value="Admin">Admin</option>
                  <option value="User">User</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="userStatus" class="form-label">Status</label>
                <select class="form-select" id="userStatus" [(ngModel)]="newUser.status" name="status">
                  <option value="Active">Active</option>
                  <option value="Inactive">Inactive</option>
                </select>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" (click)="addUser()">{{ editMode ? 'Update User' : 'Submit'
              }}</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      ParkZen Parking Management System. All rights reserved.
    </div>
  </div>
</div>